From 8fe5fd9f2f4977d0891e5585d7f4c975c62a34d2 Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey@solus-project.com>
Date: Sat, 20 Jun 2015 13:30:39 +0100
Subject: [PATCH] Undo insanity - broke gnome-screenshot (-i)

---
 panel/applets/budgie-menu/BudgieMenuWindow.vala    | 3 +--
 panel/applets/icontasklist/IconTasklistApplet.vala | 3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/panel/applets/budgie-menu/BudgieMenuWindow.vala b/panel/applets/budgie-menu/BudgieMenuWindow.vala
index 0f94635..593503d 100644
--- a/panel/applets/budgie-menu/BudgieMenuWindow.vala
+++ b/panel/applets/budgie-menu/BudgieMenuWindow.vala
@@ -570,8 +570,7 @@ public class BudgieMenuWindow : Budgie.Popover
         // Do it on the idle thread to make sure we don't have focus wars
         Idle.add(()=> {
             try {
-                var cmdline = info.get_executable();
-                Process.spawn_command_line_async(cmdline);
+                info.launch(null, null);
             } catch (Error e) {
                 stdout.printf("Error launching application: %s\n", e.message);
             }
diff --git a/panel/applets/icontasklist/IconTasklistApplet.vala b/panel/applets/icontasklist/IconTasklistApplet.vala
index 59a3889..68c5acb 100644
--- a/panel/applets/icontasklist/IconTasklistApplet.vala
+++ b/panel/applets/icontasklist/IconTasklistApplet.vala
@@ -508,8 +508,7 @@ public class PinnedIconButton : IconButton
             }
             /* Launch ourselves. */
             try {
-                var cmdline = app_info.get_executable();
-                Process.spawn_command_line_async(cmdline);
+                app_info.launch(null, null);
             } catch (Error e) {
                 /* Animate a UFAILED image? */
                 message(e.message);
-- 
2.4.4

